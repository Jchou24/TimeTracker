(function(t){function e(e){for(var i,a,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(i=!1)}i&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},a={app:0},o={app:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0c5b16":"3a4e24dd","chunk-455734fe":"fb5bdc63","chunk-19e1a676":"e3729111","chunk-2d48622d":"40df08ef","chunk-1b599696":"103c08dd","chunk-6568d9c2":"a8fe224d","chunk-da9561ba":"5704b6b6","chunk-56927b24":"e3053918","chunk-c7002a8e":"ad326856","chunk-2d0c9224":"ffd16665"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-19e1a676":1,"chunk-2d48622d":1,"chunk-1b599696":1,"chunk-6568d9c2":1,"chunk-da9561ba":1,"chunk-56927b24":1,"chunk-c7002a8e":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-2d0c5b16":"31d6cfe0","chunk-455734fe":"31d6cfe0","chunk-19e1a676":"545f8971","chunk-2d48622d":"791d3332","chunk-1b599696":"0cd42b2a","chunk-6568d9c2":"e137935d","chunk-da9561ba":"787b4019","chunk-56927b24":"a0d06f03","chunk-c7002a8e":"b7228bf6","chunk-2d0c9224":"31d6cfe0"}[t]+".css",o=c.p+i,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===i||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete a[t],f.parentNode.removeChild(f),n(r)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var i=o[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise((function(e,n){i=o[t]=[e,n]}));e.push(i[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0277":function(t,e,n){},"0727":function(t,e,n){},"0fac":function(t,e,n){"use strict";n.d(e,"b",(function(){return V})),n.d(e,"a",(function(){return Q}));n("d3b7");var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Home",class:t.GetClass},[n("div",{staticClass:"bg"}),n("div",{staticClass:"content"},[n("Container",[n("Center",[n("SimpleTransition",{attrs:{mode:"out-in",speed:"animate__fastest"}},[t.isBlurBackground?t._e():n("div",{staticClass:"default-screen",class:{"with-buttons":t.isShowButtons}},[n("Clock",{staticClass:"clock"}),n("SimpleTransition",{attrs:{mode:"out-in"}},[t.isShowButtons?n("div",{staticClass:"buttons mt-8"},[n("v-btn",{staticClass:"button mx-8 my-4 font-weight-black text-h6",attrs:{large:"",text:""},on:{click:function(e){t.isShowRegist=!0}}},[t._v(" Regist ")]),n("v-btn",{staticClass:"button mx-8 my-4 font-weight-black text-h6",attrs:{large:"",text:""},on:{click:function(e){t.isShowSignIn=!0}}},[t._v(" Sign In ")])],1):t._e()]),n("div",{staticClass:"github-icon"},[n("a",{attrs:{href:"https://github.com/Jchou24/TimeTracker",target:"_blank",rel:"noopener noreferrer"}},[n("v-btn",{staticClass:"button font-weight-black text-h6",attrs:{icon:"","x-large":""}},[n("v-icon",[t._v("mdi-github")])],1)],1)])],1),t.isShowSignIn?n("SignIn",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:function(){return t.ReturnDefaultScreen()},expression:"() => ReturnDefaultScreen()"}],attrs:{darkMode:"",width:550},on:{loginSuccess:t.ReturnDefaultScreen}}):t._e(),t.isShowRegist?n("Register",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:function(){return t.ReturnDefaultScreen()},expression:"() => ReturnDefaultScreen()"}],attrs:{darkMode:"",width:550},on:{registSuccess:t.HandleRegistSuccess}}):t._e()],1)],1)],1)],1),n("PageFlipper",{staticClass:"page-fipper"})],1)},a=[],o=(n("7ed3"),n("a6f4")),r=n("3d0f"),s=n("9fb8"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowFlipper?n("div",{staticClass:"PageFlipper flex-container"},t._l(t.settings,(function(e,i){return n("div",{key:i,ref:t.GetRef(i),refInFor:!0,staticClass:"flipper animate__animated",class:t.cls,style:e.style})})),0):t._e()},u=[],l=(n("cb29"),n("a9e3"),n("ddb0"),n("b85c")),d=n("2909"),f=n("1157"),m=n.n(f),p={name:"PageFlipper",components:{},props:{flipperNumbers:{type:Number,default:8},baseRunTime:{type:Number,default:1300},duration:{type:Number,default:100},animateStyleCandidate:{type:Array,default:function(){return["animate__flipOutY","animate__zoomOutDown","animate__zoomOutLeft","animate__zoomOutRight","animate__zoomOutUp","animate__rollOut","animate__slideOutDown","animate__slideOutLeft","animate__slideOutRight","animate__slideOutUp","animate__rotateOut","animate__rotateOutDownLeft","animate__rotateOutDownRight","animate__rotateOutUpLeft","animate__rotateOutUpRight"]}}},data:function(){return{isShowFlipper:!0,isSnimated:!1,isSnimationDone:this.GetIsAnimationDone(),settings:this.GetSettings(),animateStyle:this.Sample(this.animateStyleCandidate)}},watch:{isAllAnimationDone:function(){1==this.isAllAnimationDone&&(this.isShowFlipper=!1,this.$emit("AnimationDone"))}},methods:{ShuffleArray:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}},Sample:function(t){var e=Math.floor(Math.random()*t.length);return t[e]},GetRef:function(t){return"flipper-".concat(t)},GetIsAnimationDone:function(){return new Array(this.flipperNumbers).fill(!1)},GetSettings:function(){for(var t=Object(d["a"])(Array(this.flipperNumbers).keys()),e=0;e<t.length;e++){var n=t[e]*this.duration;t[e]={style:"animation-delay: ".concat(n,"ms;")}}return this.ShuffleArray(t),t},Init:function(){var t=this;this.isShowFlipper=!0,this.isSnimated=!1,this.isSnimationDone=this.GetIsAnimationDone(),this.settings=this.GetSettings(),this.BindAllTransitionEvent(),setTimeout((function(){t.isSnimated=!0}),this.baseRunTime)},BindAllTransitionEvent:function(){for(var t="animationend",e=0;e<this.flipperNumbers;e++)this.BindTransitionEvent(e,t)},BindTransitionEvent:function(t,e){var n=this;m()(this.$refs[this.GetRef(t)]).on(e,(function(){n.$set(n.isSnimationDone,t,!0)}))}},computed:{cls:{get:function(){var t={};return t[this.animateStyle]=this.isSnimated,t}},isAllAnimationDone:function(){var t,e=Object(l["a"])(this.isSnimationDone);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(0==n)return!1}}catch(i){e.e(i)}finally{e.f()}return!0}},mounted:function(){this.Init()}},v=p,h=(n("10e1"),n("2877")),b=Object(h["a"])(v,c,u,!1,null,"2e4c5e92",null),g=b.exports,k=n("6ebf"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Clock"},[n("AnalogClock",{attrs:{size:t.clockConfig.size,borderWidth:t.clockConfig.borderWidth}}),n("DigitalClock",{attrs:{size:t.clockConfig.screenSize}})],1)},S=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AnalogClock"},[n("VueAnalogClock",{staticClass:"analog-clock",attrs:{size:t.size,borderWidth:t.borderWidth,borderColor:"rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(0, 0, 0, 0.6)",scaleType:"roman",scaleColor:"#b6c3c9",handType:"line",hourColor:"#b6c3c9",secondHandColor:"#ff5722",minuteHandColor:"#b6c3c9",hourHandColor:"#7392a0"}})],1)},w=[],C=n("2121"),I={name:"AnalogClock",components:{VueAnalogClock:C["AnalogClock"]},props:{size:{type:Number,default:500},borderWidth:{type:Number,default:5}}},_=I,T=(n("2467"),Object(h["a"])(_,O,w,!1,null,"373396d0",null)),j=T.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DigitalClock",class:t.cls},[n("div",{staticClass:"date"},[t._v(t._s(t.date))]),n("div",{staticClass:"time"},[t._v(t._s(t.time))])])},x=[],R=(n("fb6a"),{name:"DigitalClock",props:{size:{type:String,default:"lg"},week:{type:Array,default:function(){return["SUN","MON","TUE","WED","THU","FRI","SAT"]}}},data:function(){return{time:"",date:""}},computed:{cls:{get:function(){var t={};return t[this.size]=!0,t}}},methods:{updateTime:function(){function t(t,e){for(var n="",i=0;i<e;i++)n+="0";return(n+t).slice(-e)}var e=new Date;this.time=t(e.getHours(),2)+":"+t(e.getMinutes(),2)+":"+t(e.getSeconds(),2),this.date=t(e.getFullYear(),4)+"-"+t(e.getMonth()+1,2)+"-"+t(e.getDate(),2)+" "+this.week[e.getDay()]}},mounted:function(){setInterval(this.updateTime,1e3);this.updateTime()}}),N=R,P=(n("7a13"),Object(h["a"])(N,A,x,!1,null,"0b2eacb6",null)),L=P.exports,E=n("fffe"),U=n("1008"),M=Object(o["defineComponent"])({name:"Clock",props:{},components:{AnalogClock:j,DigitalClock:L},setup:function(){var t=Object(E["a"])({throttleMs:100}),e=t.width,n=(t.height,Object(o["computed"])((function(){return Object(U["a"])(e.value)}))),i=Object(o["computed"])((function(){switch(n.value){case U["b"].xs:return{size:400,borderWidth:5,screenSize:U["b"][n.value]};default:return{size:500,borderWidth:5,screenSize:U["b"][n.value]}}}));return{clockConfig:i}}}),D=M,H=(n("b64c"),Object(h["a"])(D,y,S,!1,null,"4db48072",null)),G=H.exports,$=n("f102"),B=n("a172"),q=n("723b"),W=Object(o["defineComponent"])({name:"Home",components:{Container:r["a"],Center:s["a"],PageFlipper:g,SimpleTransition:k["a"],Clock:G,Register:$["a"],SignIn:B["a"]},directives:{onClickaway:q["directive"]},setup:function(t,e){e.refs;var n=e.root,i=n.$store,a=(n.$router,i),r=Object(E["a"])({throttleMs:100}),s=r.width,c=(r.height,Object(o["ref"])(!1)),u=Object(o["ref"])(!1),l=Object(o["computed"])((function(){return c.value||u.value})),d=Object(o["computed"])((function(){return!a.state.authentication.isAuthenticated}));function f(){c.value=!1,u.value=!1}function m(){setTimeout(f,5e3)}var p=Object(o["computed"])((function(){var t=Object(U["a"])(s.value),e={"blur-background":l.value};return Reflect.set(e,U["b"][t],!0),e}));return{isShowRegist:c,isShowSignIn:u,isBlurBackground:l,isShowButtons:d,GetClass:p,ReturnDefaultScreen:f,HandleRegistSuccess:m}}}),F=W,z=(n("21bb"),Object(h["a"])(F,i,a,!1,null,null,null)),K=z.exports,Y=n("6120"),J=n("8798"),V={Home:{path:"/",name:"Home",component:K,auth:{isRequiredAuthentication:!1,isRequiredApprovedAccount:!1,requiredRoles:[]},nav:{displayName:"Time Tracker",mdiIcon:""}},TaskEditor:{path:"/TaskEditor",name:"TaskEditor",component:function(){return Promise.all([n.e("chunk-455734fe"),n.e("chunk-2d48622d"),n.e("chunk-da9561ba")]).then(n.bind(null,"59d4"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!0,requiredRoles:[Y["d"].User]},nav:{displayName:"工時填寫",mdiIcon:"mdi-circle-edit-outline"}},TaskReporter:{path:"/TaskReporter",name:"TaskReporter",component:function(){return Promise.all([n.e("chunk-455734fe"),n.e("chunk-2d48622d"),n.e("chunk-1b599696")]).then(n.bind(null,"9944"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!0,requiredRoles:[Y["d"].User]},nav:{displayName:"工時報表",mdiIcon:"mdi-view-quilt-outline"}},TaskSummaryReporter:{path:"/TaskSummaryReporter",name:"TaskSummaryReporter",component:function(){return Promise.all([n.e("chunk-455734fe"),n.e("chunk-2d48622d"),n.e("chunk-1b599696"),n.e("chunk-6568d9c2")]).then(n.bind(null,"153c"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!0,requiredRoles:[Y["d"].User]},nav:{displayName:"全體工時報表",mdiIcon:"mdi-view-dashboard-variant-outline"}},PermissionEditor:{path:"/PermissionEditor",name:"PermissionEditor",component:function(){return n.e("chunk-c7002a8e").then(n.bind(null,"50f3"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!0,requiredRoles:[Y["d"].Admin]},nav:{displayName:"權限管理",mdiIcon:"mdi-account-edit"}},TrackSettings:{path:"/TrackSettings",name:"TrackSettings",component:function(){return Promise.all([n.e("chunk-455734fe"),n.e("chunk-19e1a676")]).then(n.bind(null,"a97c"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!0,requiredRoles:[Y["d"].Admin]},nav:{displayName:"系統設定",mdiIcon:"mdi-cog-outline"}},Registration:{path:"/Registration",name:"Registration",component:function(){return n.e("chunk-2d0c5b16").then(n.bind(null,"3fd1"))},auth:{isRequiredAuthentication:!1,isRequiredApprovedAccount:!1,requiredRoles:[]},nav:{displayName:"註冊",mdiIcon:"mdi-account-plus"}},IndividualSettings:{path:"/IndividualSettings",name:"IndividualSettings",component:function(){return n.e("chunk-56927b24").then(n.bind(null,"87c2"))},auth:{isRequiredAuthentication:!0,isRequiredApprovedAccount:!1,requiredRoles:[]},nav:{displayName:"個人設定",mdiIcon:"mdi-account-circle"}}};function Q(t){switch(t){case J["b"].ok:return"/";case J["b"].invalidPath:return"/";case J["b"].invalidAccountStatus:return"/";case J["b"].invalidAuthentication:return"/";case J["b"].invalidRole:return"/";case J["b"].logout:return"/";default:return"/"}}},"0fb2":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("b0c0");var i=n("d4ec"),a=n("bee2"),o=n("262e"),r=n("2caf"),s=n("240f"),c=n("de3a"),u=n("5fdc"),l=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(t,a){return Object(i["a"])(this,n),e.call(this,t,a)}return Object(a["a"])(n,[{key:"Init",value:function(t,e){var n=this;this.GetUserInfo(e,(function(){t&&n._store.commit("authentication/SetIsAuthenticated",!0)}));var i=new c["a"](this._store,this._rootRouter);i.GetTaskSources(e),i.GetTaskTypes(e);var a=new u["a"](this._store,this._rootRouter);a.GetImage()}},{key:"GetUserInfo",value:function(t,e,n){var i=this;this.HttpGet("api/Account/GetUserInfo",t,(function(t){e&&e(t),i._store.commit("authentication/SetClaims",t.data)}),n)}},{key:"IsLogin",value:function(t,e,n){var i=this;this.HttpGet("api/Account/IsLogin",t,(function(n){e&&e(n),i._store.commit("authentication/SetIsAuthenticated",Boolean(n.data)),i._store.state.authentication.isAuthenticated&&i.Init(!1,t)}),n)}},{key:"Login",value:function(t,e,n,i){var a=this;this.HttpPost("api/Account/Login",e,t,(function(t){n&&n(t),a.Init(!0,e)}),i)}},{key:"Logout",value:function(t,e,n){this.LogoutProcess(),this.HttpPost("api/Account/Logout",t,void 0,e,n)}},{key:"Regist",value:function(t,e,n,i){var a=this;this.HttpPost("api/Account/Regist",e,t,(function(i){n&&n(i),a.Login(t,e)}),i)}},{key:"KeepAlive",value:function(){this.HttpPost("api/Account/KeepAlive")}},{key:"UpdateName",value:function(t,e,n,i){var a=this;this.HttpPost("api/Account/UpdateName",e,t,(function(e){n&&n(e),a._store.commit("authentication/SetName",t.name)}),i)}},{key:"UpdatePassword",value:function(t,e,n,i){this.HttpPost("api/Account/UpdatePassword",e,t,n,i)}}]),n}(s["a"])},1008:function(t,e,n){"use strict";var i;function a(t){return 1904<=window.innerWidth?i.xl:1264<=window.innerWidth&&window.innerWidth<1904?i.lg:960<=window.innerWidth&&window.innerWidth<1264?i.md:600<=window.innerWidth&&window.innerWidth<960?i.sm:i.xs}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),function(t){t[t["xl"]=0]="xl",t[t["lg"]=1]="lg",t[t["md"]=2]="md",t[t["sm"]=3]="sm",t[t["xs"]=4]="xs"}(i||(i={}))},"10e1":function(t,e,n){"use strict";n("af57")},"1c32":function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t[t["GetUserInfo"]=0]="GetUserInfo",t[t["TaskEditorCreateTask"]=1]="TaskEditorCreateTask",t[t["TaskEditorDeleteTasks"]=2]="TaskEditorDeleteTasks",t[t["TaskEditorUpdateTaskRowOrder"]=3]="TaskEditorUpdateTaskRowOrder",t[t["TaskEditorUpdateTaskCol"]=4]="TaskEditorUpdateTaskCol",t[t["TaskEditorUpdateIsLeave"]=5]="TaskEditorUpdateIsLeave"}(i||(i={}))},"21bb":function(t,e,n){"use strict";n("2dad")},"23d5":function(t,e,n){},"240f":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("99af"),n("d3b7");var i=n("d4ec"),a=n("bee2"),o=n("bc3a"),r=n.n(o),s=n("0fac"),c=n("8798");r.a.defaults.withCredentials=!0;var u=function(){function t(e,n){Object(i["a"])(this,t),this._store=e,this._rootRouter=n}return Object(a["a"])(t,[{key:"HttpGet",value:function(t,e,n,i){var a=this;e&&(e.value=!0),r.a.get("".concat("/").concat(t).toLowerCase()).then((function(t){return a.Then(t,n)})).catch((function(t){return a.Catch(t,i)})).finally((function(){return a.Finally(e)}))}},{key:"HttpPost",value:function(t,e,n,i,a){var o=this,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];e&&(e.value=!0),r.a.post("".concat("/").concat(t).toLowerCase(),n).then((function(t){return o.Then(t,i)})).catch((function(t){return o.Catch(t,a,s)})).finally((function(){return o.Finally(e)}))}},{key:"LogoutProcess",value:function(){this._store.commit("authentication/Init"),this._store.commit("pageIdle/Init"),this._store.commit("SetUserImage",""),this.HttpPost("api/Account/Logout")}},{key:"Then",value:function(t,e){e&&e(t)}},{key:"Catch",value:function(t,e){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&e(t),i){var a=(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)||void 0,o=this._store.state.notification;switch(a){case 401:this.LogoutProcess(),o.Notificate401();break;case 403:this._rootRouter.push(Object(s["a"])(c["b"].invalidRole)),o.Notificate403();break;default:break}}}},{key:"Finally",value:function(t){t&&(t.value=!1)}}]),t}()},2467:function(t,e,n){"use strict";n("23d5")},"2bdc":function(t,e,n){},"2d2e":function(t,e,n){},"2dad":function(t,e,n){},"3d0f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"Container",attrs:{fluid:"","fill-height":t.isFullHeight}},[t._t("default")],2)},a=[],o=n("a6f4"),r=Object(o["defineComponent"])({name:"Container",props:{isFullHeight:{type:Boolean,default:!0}}}),s=r,c=(n("bf35"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"61397f75",null);e["a"]=u.exports},"578d":function(t,e,n){"use strict";n("2d2e")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"5fdc":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("d4ec"),a=n("bee2"),o=n("262e"),r=n("2caf"),s=n("240f"),c=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(t,a){return Object(i["a"])(this,n),e.call(this,t,a)}return Object(a["a"])(n,[{key:"GetImage",value:function(t,e,n){var i=this;this.HttpPost("api/Image/GetImage",t,void 0,(function(t){i._store.commit("SetUserImage",t.data),e&&e(t)}),n)}},{key:"CreateOrUpdateImage",value:function(t,e,n,i){var a=this;this.HttpPost("api/Image/CreateOrUpdateImage",e,{image:t},(function(e){a._store.commit("SetUserImage",t),n&&n(e)}),i)}},{key:"DeleteImage",value:function(t,e,n){var i=this;this.HttpPost("api/Image/DeleteImage",t,void 0,(function(t){i._store.commit("SetUserImage",""),e&&e(t)}),n)}}]),n}(s["a"])},6120:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return c}));var i,a;n("4de4"),n("d81d"),n("a9e3"),n("9129"),n("b64b");(function(t){t[t["Uncheck"]=0]="Uncheck",t[t["Approved"]=1]="Approved",t[t["Rejected"]=2]="Rejected",t[t["Suspend"]=3]="Suspend"})(i||(i={})),function(t){t[t["Admin"]=1]="Admin",t[t["User"]=2]="User"}(a||(a={}));var o={0:"mdi-account",1:"mdi-account",2:"mdi-account",3:"mdi-account"},r={0:"warning",1:"primary",2:"error",3:"error"};function s(){return Object.keys(i).map(Number).filter((function(t){return!Number.isNaN(t)}))}function c(){return Object.keys(a).map(Number).filter((function(t){return!Number.isNaN(t)}))}},"6ebf":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{mode:t.mode,"enter-active-class":t.enterClass,"leave-active-class":t.leaveClass}},[t._t("default")],2)},a=[],o=(n("99af"),n("a6f4")),r=Object(o["defineComponent"])({name:"SimpleTransition",props:{mode:{type:String},enterAnimation:{type:String,default:"animate__fadeIn"},leaveAnimation:{type:String,default:"animate__fadeOut"},speed:{type:String,default:"animate__faster"}},setup:function(t,e){e.root;var n=Object(o["computed"])((function(){return"animate__animated ".concat(t.enterAnimation," ").concat(t.speed)})),i=Object(o["computed"])((function(){return"animate__animated ".concat(t.leaveAnimation," ").concat(t.speed)}));return{enterClass:n,leaveClass:i}}}),s=r,c=n("2877"),u=Object(c["a"])(s,i,a,!1,null,"dd9fa10a",null);e["a"]=u.exports},"7a13":function(t,e,n){"use strict";n("0277")},"7a3c":function(t,e,n){"use strict";n("c4a5")},"7c44":function(t,e,n){"use strict";n("e520")},"818a":function(t,e,n){"use strict";n("2bdc")},8798:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var i,a=n("6120");function o(t){switch(t){case a["a"].Uncheck:return"Please connect admin to activate your account.";case a["a"].Approved:return"";case a["a"].Rejected:return"Your account is rejected.";case a["a"].Suspend:return"Your account is suspended.";default:return""}}(function(t){t[t["ok"]=0]="ok",t[t["invalidPath"]=1]="invalidPath",t[t["invalidAccountStatus"]=2]="invalidAccountStatus",t[t["invalidAuthentication"]=3]="invalidAuthentication",t[t["invalidRole"]=4]="invalidRole",t[t["logout"]=5]="logout"})(i||(i={}))},"880d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var i=n("5530");function a(t,e,n){var a=Object(i["a"])({timeout:7e3},n);return null===e||void 0===e?void 0:e.success(t,a)}function o(t,e,n){var a=Object(i["a"])({timeout:7e3},n);return null===e||void 0===e?void 0:e.warning(t,a)}function r(t,e,n){var a=Object(i["a"])({timeout:7e3},n);return null===e||void 0===e?void 0:e.error(t,a)}},"9c0c":function(t,e,n){},"9fb8":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"margin-center"},[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[t._t("default")],2)],1)],1)],1)},a=[],o=n("2877"),r={},s=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=s.exports},a092:function(t,e,n){},a172:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SignIn text-center",class:{darkMode:t.darkMode}},[n("v-card",{attrs:{loading:t.isLoading,disabled:t.isLoading,elevation:"10",outlined:"",shaped:!t.darkMode,width:t.width},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.SignIn(e)}}},[n("v-card-title",{staticClass:"title flex-center text-h4 mb-4 pt-8 font-weight-black"},[n("v-icon",{staticClass:"title text-h4",attrs:{left:""}},[t._v("mdi-account-circle")]),t._v("登入")],1),t.darkMode?t._e():n("v-divider",{staticClass:"mb-7"}),n("v-card-text",{staticClass:"px-10"},[n("div",{staticClass:"content"},[n("v-text-field",{attrs:{"error-messages":t.errorMessages.Email,"error-count":t.errorMessages.Email.length,label:"Email","prepend-icon":"mdi-email",outlined:"",dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{"error-messages":t.errorMessages.Password,"error-count":t.errorMessages.Password.length,label:"Password",type:"password","prepend-icon":"mdi-key","append-icon":"mdi-eye",outlined:"",dense:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._l(t.errorMessages.Fail,(function(e,i){return n("p",{key:i,staticClass:"error--text"},[t._v(" "+t._s(e)+" ")])}))],2)]),t.darkMode?t._e():n("v-divider"),n("v-card-actions",{staticClass:"py-6 flex-center card-action"},[n("v-btn",{staticClass:"pa-6 px-8 text-center",attrs:{loading:t.isLoading,elevation:"2",large:"",rounded:"",color:t.darkMode?"accent":"primary",block:t.darkMode,disabled:t.isAuthenticated},on:{click:t.SignIn}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" Submit ")],1)],1)],1)],1)},a=[],o=(n("a9e3"),n("a6f4")),r=n("0fb2"),s=Object(o["defineComponent"])({name:"SignIn",props:{width:{type:Number,default:450},darkMode:{type:Boolean,default:!1}},setup:function(t,e){var n=e.emit,i=e.root,a=i.$store,s=i.$router,c=a,u=s,l=new r["a"](c,u),d=Object(o["ref"])(""),f=Object(o["computed"])((function(){return c.state.authentication.isAuthenticated})),m=Object(o["computed"])({get:function(){return c.state.authentication.claims.email},set:function(t){c.commit("authentication/SetEmail",t)}}),p=function(){return{Email:[],Password:[],Fail:[]}},v=Object(o["reactive"])(p());function h(){v.Email=[],v.Password=[],v.Fail=[]}var b=Object(o["computed"])((function(){return{email:m.value,password:d.value}}));function g(){d.value="",h()}var k=Object(o["ref"])(!1);function y(){f.value||l.Login(b.value,k,(function(){h(),d.value="",n("loginSuccess")}),(function(t){400==t.response.status&&(h(),v.Email=t.response.data["Email"]||[],v.Password=t.response.data["Password"]||[],v.Fail=t.response.data["Fail"]||[])}))}return{isAuthenticated:f,isLoading:k,email:m,password:d,errorMessages:v,SignIn:y,ResetPassword:g}}}),c=s,u=(n("7a3c"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"10e54d3e",null);e["a"]=l.exports},a488:function(t,e,n){},aad1:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r}));n("4de4"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("5319"),n("ddb0");var i=n("2909");function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}var o=function(t){return t.map((function(t){return t.guid}))},r=function(t,e){var n=new Set(t),a=new Set(e),o=new Set(Object(i["a"])(n).filter((function(t){return a.has(t)})));return n.size==o.size&&a.size==o.size}},af57:function(t,e,n){},afe5:function(t,e,n){},b64c:function(t,e,n){"use strict";n("0727")},bf35:function(t,e,n){"use strict";n("a092")},c0d2:function(t,e,n){},c4a5:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Nav"),n("v-main",{staticClass:"main"},[n("SimpleTransition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1),n("PageIdle")],1)},o=[],r=(n("b0c0"),n("a6f4")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{staticClass:"Nav drop-shadow-2 px-16",attrs:{app:""}},[n("TwoColumnSidebarToggleIcon"),n("NavGithubLink"),n("NavLinkItem",{staticClass:"home-btn",attrs:{routeConfigsKey:"Home",displayName:""}}),t._l(t.navLeftItems,(function(t,e){return n("NavLinkItem",{key:"left"+e,attrs:{routeConfigsKey:t,mdiIcon:"",displayName:"",left:""}})})),n("v-spacer"),n("v-toolbar-title",{staticClass:"auth-info v-btn"},[t._v(t._s(t.authenticationInfo))]),t._l(t.navRightItems,(function(t,e){return n("NavLinkItem",{key:"right"+e,attrs:{routeConfigsKey:t,mdiIcon:"",displayName:"",left:""}})})),t.isAuthenticated?n("NavIndividualSettings"):t._e(),t.isAuthenticated?t._e():n("NavLinkItem",{attrs:{routeConfigsKey:"Registration",mdiIcon:"",displayName:"",left:""}}),t.isAuthenticated?n("NavItem",{attrs:{mdiIcon:"mdi-logout",left:""},nativeOn:{click:function(e){return t.SignOut(e)}}},[t._v("登出")]):n("NavItem",{attrs:{mdiIcon:"mdi-login",left:""},nativeOn:{click:function(e){t.isOpenModal=!0}}},[t._v("登入")]),n("SignInModal",{attrs:{isOpenModal:t.isOpenModal},on:{"update:isOpenModal":function(e){t.isOpenModal=e},"update:is-open-modal":function(e){t.isOpenModal=e}}}),n("NavProgress")],2)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isNavLoading?n("v-progress-linear",{staticClass:"NavProgress",attrs:{indeterminate:"",stream:"",fixed:"",top:""}}):t._e()},l=[],d=Object(r["defineComponent"])({name:"NavProgress",setup:function(t,e){var n=e.root,i=n.$store,a=i,o=Object(r["computed"])((function(){return a.state.isLoading}));return{isNavLoading:o}}}),f=d,m=n("2877"),p=Object(m["a"])(f,u,l,!1,null,"4c04ad0e",null),v=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"NavLinkItem router-link-custom-active",attrs:{href:"https://github.com/Jchou24/TimeTracker",target:"_blank",rel:"noopener noreferrer"}},[n("NavItem",{attrs:{icon:"",mdiIcon:"mdi-github"}})],1)},b=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"NavItem",attrs:{icon:t.icon,depressed:"","x-large":""}},[t.mdiIcon?n("v-icon",{attrs:{left:t.left}},[t._v(t._s(t.mdiIcon))]):t._e(),t._t("default")],2)},k=[],y=Object(r["defineComponent"])({name:"NavItem",props:{mdiIcon:{type:String,default:""},left:{type:Boolean,default:!1},icon:{type:Boolean,default:!1}}}),S=y,O=(n("feca"),Object(m["a"])(S,g,k,!1,null,"5dbbd059",null)),w=O.exports,C=Object(r["defineComponent"])({name:"NavGithubLink",props:{},components:{NavItem:w}}),I=C,_=Object(m["a"])(I,h,b,!1,null,null,null),T=_.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"NavLinkItem",class:{"router-link-custom-active":t.isActiveLink},attrs:{to:t.to}},[t.displayName?n("NavItem",{attrs:{icon:t.icon,mdiIcon:t.navIcon,left:t.left}},[t._v(" "+t._s(t.navDisplayName)+" ")]):n("NavItem",{attrs:{icon:t.icon,mdiIcon:t.navIcon,left:t.left}},[t._t("default")],2)],1)},A=[],x=n("0fac"),R=Object(r["defineComponent"])({name:"NavLinkItem",props:{routeConfigsKey:{type:String,required:!0},mdiIcon:{type:Boolean,default:!1},displayName:{type:Boolean,default:!1},left:{type:Boolean,default:!1},icon:{type:Boolean,default:!1}},components:{NavItem:w},setup:function(t,e){var n=e.root,i=n.$router,a=(n.$route,Object(r["computed"])((function(){return x["b"][t.routeConfigsKey].path}))),o=Object(r["computed"])((function(){return t.mdiIcon?x["b"][t.routeConfigsKey].nav.mdiIcon:""})),s=Object(r["computed"])((function(){return t.displayName?x["b"][t.routeConfigsKey].nav.displayName:""})),c=Object(r["computed"])((function(){return x["b"][t.routeConfigsKey].path==i.currentRoute.path}));return{to:a,navIcon:o,navDisplayName:s,isActiveLink:c}}}),N=R,P=Object(m["a"])(N,j,A,!1,null,null,null),L=P.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isUseUserImage?n("NavLinkItem",{staticClass:"individual-settings px-2",attrs:{icon:"",routeConfigsKey:"IndividualSettings"}},[n("v-img",{staticClass:"user-image-nav",attrs:{src:t.userImage}})],1):n("NavLinkItem",{staticClass:"individual-settings px-2",attrs:{icon:"",routeConfigsKey:"IndividualSettings",mdiIcon:""}})},U=[],M=Object(r["defineComponent"])({name:"NavIndividualSettings",props:{},components:{NavLinkItem:L},setup:function(t,e){var n=e.root,i=n.$store,a=i,o=Object(r["computed"])((function(){return a.state.userImage})),s=Object(r["computed"])((function(){return o.value.length>0}));return{userImage:o,isUseUserImage:s}}}),D=M,H=Object(m["a"])(D,E,U,!1,null,null,null),G=H.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar-nav-icon",{staticClass:"TwoColumnSidebarToggleIcon",attrs:{disabled:!t.isActiveTwoColumn},on:{click:t.ToggleSidebar}})},B=[],q=Object(r["defineComponent"])({name:"TwoColumnSidebarToggleIcon",props:{mdiIcon:{type:String,default:""},left:{type:Boolean,default:!1}},setup:function(t,e){var n=e.root,i=n.$store,a=(n.$router,i),o=Object(r["computed"])((function(){return a.state.twoColumn.isActiveTwoColumn})),s=function(){return a.commit("twoColumn/ToggleSidebar")};return{isActiveTwoColumn:o,ToggleSidebar:s}}}),W=q,F=(n("e7e6"),Object(m["a"])(W,$,B,!1,null,null,null)),z=F.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SignInModal text-center"},[n("v-dialog",{attrs:{width:t.width},model:{value:t.isOpenModalRef,callback:function(e){t.isOpenModalRef=e},expression:"isOpenModalRef"}},[n("SignIn",{ref:"SignIn",attrs:{width:t.width},on:{loginSuccess:function(e){t.isOpenModalRef=!1}}})],1)],1)},Y=[],J=(n("a9e3"),n("a172")),V=Object(r["defineComponent"])({name:"SignInModal",props:{isOpenModal:{type:Boolean},width:{type:Number,default:500}},components:{SignIn:J["a"]},setup:function(t,e){var n=e.emit,i=(e.root,e.refs),a=Object(r["computed"])({get:function(){return t.isOpenModal},set:function(t){i.SignIn.ResetPassword(),n("update:isOpenModal",t)}});return{isOpenModalRef:a}}}),Q=V,X=Object(m["a"])(Q,K,Y,!1,null,null,null),Z=X.exports,tt=n("0fb2"),et=(n("4de4"),n("caad"),n("d81d"),n("2532"),n("8798")),nt=n("6120");function it(t,e,n){var i=t in n;return i?et["b"].ok:et["b"].invalidPath}function at(t,e,n){var i=n[t].auth.isRequiredApprovedAccount,a=e.state.authentication.claims.accountStatus==nt["a"].Approved;return i&&!a?et["b"].invalidAccountStatus:et["b"].ok}function ot(t,e,n){var i=n[t].auth.isRequiredAuthentication,a=e.state.authentication.isAuthenticated;return i&&!a?et["b"].invalidAuthentication:et["b"].ok}function rt(t,e,n){var i=n[t].auth.requiredRoles,a=e.state.authentication.claims.userRoles.map((function(t){return t.id}));return 0==i.length?et["b"].ok:i.filter((function(t){return a.includes(t)})).length!==i.length?et["b"].invalidRole:et["b"].ok}function st(t,e,n){for(var i=[it,at,ot,rt],a=0,o=i;a<o.length;a++){var r=o[a],s=r(t,e,n);if(s!=et["b"].ok)return s}return et["b"].ok}var ct=["TaskEditor","TaskReporter","TaskSummaryReporter"],ut=["TrackSettings","PermissionEditor"];function lt(t,e){return t.filter((function(t){return st(t,e,x["b"])==et["b"].ok}))}var dt,ft=Object(r["defineComponent"])({name:"Nav",props:{},components:{NavProgress:v,NavGithubLink:T,NavLinkItem:L,NavItem:w,NavIndividualSettings:G,TwoColumnSidebarToggleIcon:z,SignInModal:Z},setup:function(t,e){var n=e.root,i=n.$store,a=n.$router,o=i,s=a,c=new tt["a"](o,s),u=Object(r["computed"])((function(){return lt(ct,o)})),l=Object(r["computed"])((function(){return lt(ut,o)})),d=Object(r["ref"])(!1),f=Object(r["ref"])(!1);function m(){c.Logout(f),d.value=!1}Object(r["watch"])(f,(function(t){t?o.commit("TurnOnLoading"):o.commit("TurnOffLoading")}));var p="Please sign in to continue.",v=Object(r["computed"])((function(){return o.state.authentication.claims.name?o.state.authentication.claims.name:o.state.authentication.claims.email})),h=function(){return"Hi ".concat(v.value,"!")},b=Object(r["ref"])(h());Object(r["watch"])((function(){return o.state.authentication.claims.name}),(function(t){b.value=h()}));var g=Object(r["computed"])((function(){return o.state.authentication.isAuthenticated})),k=Object(r["computed"])((function(){return g.value?b.value:p}));return{routeConfigs:x["b"],navLeftItems:u,navRightItems:l,isAuthenticated:g,isOpenModal:d,SignOut:m,authenticationInfo:k}}}),mt=ft,pt=(n("818a"),n("7c44"),Object(m["a"])(mt,s,c,!1,null,"a44c4758",null)),vt=pt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PageIdle"},[n("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.isShowUserConfirm,callback:function(e){t.isShowUserConfirm=e},expression:"isShowUserConfirm"}},[n("v-card",{attrs:{loading:!0,elevation:"10",outlined:"",shaped:""}},[n("v-card-title",{staticClass:"pt-8 text-h4 flex-center"},[t._v("網頁閒置中")]),n("v-card-text",{staticClass:"py-2 pb-6 text-h6"},[t._v(" 即將在 "+t._s(t.remainUserComfirmSeconds)+" 秒後自動登出 ")]),n("v-divider",{staticClass:"mx-4"}),n("v-card-actions",{staticClass:"py-6 flex-center"},[n("div",{staticClass:"text-center"},[n("v-btn",{attrs:{color:"primary",elevation:"2",large:"",rounded:""},on:{click:t.UserConfirm}},[t._v(" 不要登出 ")])],1)])],1)],1)],1)},bt=[],gt=n("1157"),kt=n.n(gt),yt=n("04b0"),St=n("880d"),Ot=n("84a2"),wt=n.n(Ot),Ct=n("f7fe"),It=n.n(Ct);(function(t){t[t["ByPass"]=0]="ByPass",t[t["PageIdle"]=1]="PageIdle",t[t["UserComfirm"]=2]="UserComfirm",t[t["Logout"]=3]="Logout"})(dt||(dt={}));var _t=Object(r["defineComponent"])({name:"PageIdle",props:{idleSeconds:{type:Number,default:600},userConfirmSeconds:{type:Number,default:60},maxIdleTimes:{type:Number,default:2},unidleEvents:{type:String,default:"mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick"},isLogOutRedirect:{type:Boolean,default:!0},LogOutRedirectPath:{type:String,default:"/"}},setup:function(t,e){var n=e.root,i=n.$router,a=(n.$route,n.$store),o=a,s=i,c=new tt["a"](o,s),u=Object(r["ref"])(!1),l=Object(r["ref"])(t.userConfirmSeconds),d=function(t){return o.commit("pageIdle/SetIdleDetermineStates",t)},f=Object(r["computed"])((function(){return o.state.pageIdle.isShowUserConfirm})),m=function(t){return o.commit("pageIdle/SetIsShowUserConfirm",t)},p=Object(r["ref"])(o.state.pageIdle.idleTimes),v=Object(r["computed"])((function(){return t.maxIdleTimes+1-p.value})),h=function(t){return o.commit("pageIdle/SetIdleTimes",t)};function b(){p.value++,h(p.value)}var g,k=Object(yt["useToast"])(),y=function(t){return o.commit("pageIdle/SetIsShowLogOutNotification",t)};function S(){return Object(St["b"])("User is logged out automatically.",k,{timeout:!1,onClick:function(){return y(!1)}})}function O(t){t?(k.dismiss(g),g=S()):k.dismiss(g)}function w(){p.value=0}function C(t){var e=new Date;if(t)return t=new Date(t),(e.getTime()-t.getTime())/1e3}function I(){var e=C(o.state.pageIdle.startUserConfirmTimestamp);e&&(l.value=Math.ceil(t.userConfirmSeconds-e),l.value=Math.max(l.value,0),l.value=Math.min(l.value,t.userConfirmSeconds))}function _(){I();setInterval((function(){var e;switch(o.state.pageIdle.idleDetermineStates){case dt.PageIdle:if(e=C(o.state.pageIdle.startIdleTimestamp),!e)break;e>=t.idleSeconds&&d(dt.UserComfirm);break;case dt.UserComfirm:I(),l.value<=0&&d(dt.Logout);break;case dt.Logout:d(dt.ByPass);break;case dt.ByPass:default:break}}),250)}function T(){var e=new Date,n=new Date(e.getTime()+1e3*t.idleSeconds+250);o.commit("pageIdle/SetStartIdleTimestamp",e),o.commit("pageIdle/SetStartUserConfirmTimestamp",n)}function j(){o.state.pageIdle.idleDetermineStates==dt.UserComfirm&&(T(),d(dt.PageIdle),m(!1))}function A(){o.state.pageIdle.idleDetermineStates==dt.PageIdle&&T()}function x(){o.state.pageIdle.idleDetermineStates!=dt.ByPass&&c.KeepAlive()}return Object(r["watch"])((function(){return o.state.pageIdle.isShowLogOutNotification}),It()((function(t){O(t)}),250)),Object(r["watch"])((function(){return o.state.pageIdle.idleDetermineStates}),(function(e,n){n==dt.PageIdle&&e==dt.UserComfirm&&(l.value=t.userConfirmSeconds,b(),v.value<=0?d(dt.Logout):m(!0)),n==dt.UserComfirm&&e==dt.Logout&&(c.Logout(u),y(!0))})),Object(r["watch"])((function(){return o.state.authentication.isAuthenticated}),It()((function(e){1==e&&(d(dt.PageIdle),T()),0==e&&(d(dt.ByPass),w(),t.isLogOutRedirect&&s.push(t.LogOutRedirectPath))}),250)),Object(r["onMounted"])((function(){kt()(window).bind(t.unidleEvents,wt()(A,200)),kt()(window).bind(t.unidleEvents,It()(x,3e4)),_(),setTimeout((function(){O(o.state.pageIdle.isShowLogOutNotification)}),500)})),{isLoading:u,isShowUserConfirm:f,remainUserComfirmSeconds:l,UserConfirm:j}}}),Tt=_t,jt=(n("578d"),Object(m["a"])(Tt,ht,bt,!1,null,"49413a16",null)),At=jt.exports,xt=n("6ebf"),Rt=(n("da96"),n("d4ec")),Nt=n("bee2"),Pt=n("1c32"),Lt=n("e87a"),Et=function(){function t(e,n){Object(Rt["a"])(this,t),this._tryingToReconnect=!1,this._isSuccessClose=!1,this._store=e,this._rootRouter=n,this._authenticationAPIHandler=new tt["a"](e,n),this.connection=this.BuildConnection(),this.Init()}return Object(Nt["a"])(t,[{key:"BuildConnection",value:function(){return(new Lt["a"]).withUrl("/wssync").build()}},{key:"Init",value:function(){this.InitialListeners(),this._store.state.authentication.isAuthenticated&&this.Start()}},{key:"InitialListeners",value:function(){var t=this;Object(r["watch"])((function(){return t._store.state.authentication.isAuthenticated}),It()((function(e){e?t.Start():t.Stop()}),250)),this.connection.on(Pt["a"][Pt["a"].GetUserInfo],(function(){t._authenticationAPIHandler.GetUserInfo()})),this.connection.onreconnecting((function(){t._store.state.authentication.isAuthenticated&&(t._tryingToReconnect=!0,t._store.state.notification.NotificateWSReconnecting())})),this.connection.onreconnected((function(){t._store.state.authentication.isAuthenticated&&(t._tryingToReconnect=!1,t._store.state.notification.NotificateWSReconnected())})),this.connection.onclose((function(){t._isSuccessClose||t._store.state.notification.NotificateWSClose()}))}},{key:"Start",value:function(){return this._isSuccessClose=!1,this._tryingToReconnect=!1,this.connection.start()}},{key:"Stop",value:function(){return this._isSuccessClose=!0,this.connection.stop()}},{key:"TryReconnect",value:function(t,e){var n=this;if(this._tryingToReconnect)return!0;this._tryingToReconnect=!0,this.Stop().then((function(){n.Start().then((function(){n._tryingToReconnect=!1,n.InitialListeners(),t&&t()})).catch(e)})).catch(e)}}]),t}(),Ut=Object(r["defineComponent"])({name:"App",components:{Nav:vt,PageIdle:At,SimpleTransition:xt["a"]},setup:function(t,e){var n=e.root,i=n.$store,a=n.$router,o=n.$route,s=i,c=a,u=o,l=new tt["a"](s,c);Object(yt["provideToast"])({toastClassName:"toast-notification",transition:"Vue-Toastification__fade",draggable:!1,closeOnClick:!1});var d=Object(yt["useToast"])();s.commit("notification/SetNotificator",d);var f=Object(r["ref"])(!1);l.IsLogin(f),Object(r["watch"])(f,(function(t){t?s.commit("TurnOnLoading"):s.commit("TurnOffLoading")}));var m=new Et(s,c);s.commit("webSocket/SetWSHandler",m),Object(r["watch"])((function(){return s.state.authentication.claims.accountStatus}),It()((function(t){s.state.authentication.isAuthenticated&&t!=nt["a"].Approved&&(Object(St["a"])(Object(et["a"])(t)),c.push(Object(x["a"])(et["b"].invalidAccountStatus)))}),250)),Object(r["watch"])((function(){return s.state.authentication.isAuthenticated}),It()((function(t){t||c.push(Object(x["a"])(et["b"].invalidAuthentication))}),250));var p=u.name;return c.afterEach((function(t,e){p=t.name})),Object(r["watch"])((function(){return s.state.authentication.claims.userRoles}),It()((function(t){s.state.authentication.isAuthenticated&&p&&st(p,s,x["b"])!==et["b"].ok&&(Object(St["c"])("Sorry! You don't have sufficient permission.",d),c.push(Object(x["a"])(et["b"].invalidRole)))}),250)),{}}}),Mt=Ut,Dt=(n("5c0b"),Object(m["a"])(Mt,a,o,!1,null,"6bd5a0cd",null)),Ht=Dt.exports,Gt=n("9483");Object(Gt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("07ac");var $t=n("8c4f");n("b64b");function Bt(t,e){function n(t){return!!Object.keys(t.query).length}t.beforeEach((function(t,n,i){if(n.path!=t.path){var a=st(t.name,e,x["b"]);if(a!=et["b"].ok)return Object(St["c"])("Insufficient permision found: ".concat(et["b"][a]),e.state.notification.notificator),void i(Object(x["a"])(a));i()}else i()})),t.beforeEach((function(t,e,i){!n(t)&&n(e)?i({name:t.name,query:e.query}):i()}))}var qt=Bt;i["default"].use($t["a"]);var Wt=Object.values(x["b"]).map((function(t){return{path:t.path,name:t.name,component:t.component}})),Ft=function(t){var e=new $t["a"]({mode:"history",base:"/",routes:Wt});return qt(e,t),e},zt=n("2f62"),Kt=n("52f5"),Yt=n.n(Kt),Jt=(n("4160"),n("5d41"),n("7ed3"),n("159b"),function(){return{isAuthenticated:!1,claims:{guid:"",email:"",name:"",accountStatus:0,userRoles:[]}}});function Vt(t,e){Object.keys(e).forEach((function(n){return Reflect.set(t.claims,n,Reflect.get(e,n))}))}var Qt={namespaced:!0,state:Jt(),mutations:{Init:function(t){var e=Jt();Object.keys(e).forEach((function(n){return Reflect.set(t,n,Reflect.get(e,n))})),Vt(t,t.claims)},SetIsAuthenticated:function(t,e){return t.isAuthenticated=e},SetClaims:function(t,e){return Vt(t,e)},SetEmail:function(t,e){return t.claims.email=e},SetName:function(t,e){return t.claims.name=e}},actions:{},modules:{}},Xt=Qt,Zt=function(){return{startIdleTimestamp:void 0,startUserConfirmTimestamp:void 0,isShowUserConfirm:!1,isShowLogOutNotification:!1,idleTimes:0,idleDetermineStates:dt.ByPass}},te={namespaced:!0,state:Zt(),getters:{},mutations:{Init:function(t){var e=Zt();Object.keys(e).forEach((function(n){return Reflect.set(t,n,Reflect.get(e,n))}))},SetStartIdleTimestamp:function(t,e){return t.startIdleTimestamp=e},SetStartUserConfirmTimestamp:function(t,e){return t.startUserConfirmTimestamp=e},SetIsShowUserConfirm:function(t,e){return t.isShowUserConfirm=e},SetIsShowLogOutNotification:function(t,e){return t.isShowLogOutNotification=e},SetIdleTimes:function(t,e){return t.idleTimes=e},SetIdleDetermineStates:function(t,e){return t.idleDetermineStates=e}},actions:{},modules:{}},ee=te,ne="taskTypes",ie="taskSources",ae="dayWorkLimitTime",oe=function(){return{taskTypes:[],taskSources:[],dayWorkLimitTime:void 0}},re=function(t,e,n){n.sort((function(t,e){return t.displayName<e.displayName?-1:t.displayName>e.displayName?1:0})).forEach((function(t,e){return t.id=e})),i["default"].set(t,e,n)},se={namespaced:!0,state:oe(),mutations:{Init:function(t){var e=oe();i["default"].set(t,ne,e.taskTypes),i["default"].set(t,ie,e.taskSources),i["default"].set(t,ae,e.dayWorkLimitTime)},SetTaskTypes:function(t,e){return re(t,ne,e)},SetTaskSources:function(t,e){return re(t,ie,e)},SetDayWorkLimitTime:function(t,e){return t.dayWorkLimitTime=e}},actions:{},modules:{}},ce=se,ue=function(){return{notificator:void 0,Notificate401:void 0,Notificate403:void 0,NotificateWSReconnected:void 0,NotificateWSReconnecting:void 0,NotificateWSClose:void 0}},le=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3?arguments[3]:void 0;return It()((function(){return Object(St["c"])(e,t.notificator,i)}),n)},de=function(t){return t.Notificate401=le(t,"Sorry! You don't have sufficient permission. You will be signed out automatically.")},fe=function(t){return t.Notificate403=le(t,"Sorry! You don't have sufficient permission.")},me=function(t){return t.NotificateWSReconnected=It()((function(){return Object(St["b"])("The connection is restored successfully.",t.notificator)}),500)},pe=function(t){return t.NotificateWSReconnecting=le(t,"Sorry! The connection is unstable now. Please wait for the connection.",500)},ve=function(t){return t.NotificateWSClose=le(t,"Sorry! The connection is break unpredictably. Your operation will not be executing. Please refresh the browser to continue.",500,{timeout:!1})},he={namespaced:!0,state:ue(),mutations:{Init:function(t){var e=ue();i["default"].set(t,"notificator",e.notificator)},SetNotificator:function(t,e){t.notificator=e,de(t),fe(t),me(t),pe(t),ve(t)}},actions:{},modules:{}},be=he,ge=function(){return{wsHandler:void 0,taskEditorQueryTasks:void 0}},ke={namespaced:!0,state:ge(),mutations:{Init:function(t){var e=ge();i["default"].set(t,"wsHandler",e.wsHandler)},SetWSHandler:function(t,e){t.wsHandler=e},SetTaskEditorGroup:function(t,e){i["default"].set(t,"taskEditorQueryTasks",e)}},actions:{},modules:{}},ye=ke,Se=function(){return{isShowSidebar:!1,isActiveTwoColumn:!1}},Oe={namespaced:!0,state:Se(),mutations:{Init:function(t){var e=Se();Object.keys(e).forEach((function(n){return Reflect.set(t,n,Reflect.get(e,n))}))},ActiveSidebar:function(t){return t.isShowSidebar=!0},DisActiveSidebar:function(t){return t.isShowSidebar=!1},ToggleSidebar:function(t){return t.isShowSidebar=!t.isShowSidebar},ActiveTwoColumn:function(t){return t.isActiveTwoColumn=!0},DisActiveTwoColumn:function(t){return t.isActiveTwoColumn=!1}},actions:{},modules:{}},we=Oe,Ce=n("aad1");i["default"].use(zt["a"]);var Ie=new zt["a"].Store({state:{isLoading:!1,tabGuid:Object(Ce["a"])(),userImage:""},mutations:{TurnOnLoading:function(t){t.isLoading=!0},TurnOffLoading:function(t){t.isLoading=!1},SetUserImage:function(t,e){return t.userImage=e}},actions:{},modules:{taskParameters:ce,authentication:Xt,pageIdle:ee,notification:be,webSocket:ye,twoColumn:we},plugins:[Yt()({statesPaths:["authentication","pageIdle","userImage"]})]}),_e=n("a584");function Te(t,e){var n="UA-138418210-2";n&&t.use(_e["a"],{config:{id:n},appName:"Time Tracker",pageTrackerScreenviewEnabled:!0},e)}var je=Te,Ae=n("ce5b"),xe=n.n(Ae),Re=(n("bf40"),n("c0a4")),Ne=n.n(Re);i["default"].use(xe.a);var Pe={theme:{themes:{light:{primary:Ne.a.teal.base,secondary:Ne.a.cyan.base,accent:Ne.a.blueGrey.base,error:Ne.a.deepOrange.base,warning:Ne.a.orange.base,info:Ne.a.blue.base,success:Ne.a.green.base}}}},Le=new xe.a(Pe);n("119e"),n("d11d"),n("619b"),n("5363"),n("4b3c");i["default"].config.productionTip=!1,i["default"].use(r["default"]);var Ee=Ft(Ie);je(i["default"],Ee),new i["default"]({vuetify:Le,router:Ee,store:Ie,render:function(t){return t(Ht)}}).$mount("#app")},de3a:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l}));var i=n("d4ec"),a=n("bee2"),o=n("262e"),r=n("2caf"),s=n("240f"),c=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(t,a){return Object(i["a"])(this,n),e.call(this,t,a)}return Object(a["a"])(n,[{key:"GetDayWorkLimitTime",value:function(t,e,n){var i=this;this.HttpPost("api/Parameter/GetDayWorkLimitTime",t,void 0,(function(t){i._store.commit("taskParameters/SetDayWorkLimitTime",t.data),e&&e(t)}),n,!1)}},{key:"GetTaskTypes",value:function(t,e,n){var i=this;this.HttpPost("api/Parameter/GetTaskTypes",t,void 0,(function(t){i._store.commit("taskParameters/SetTaskTypes",t.data),e&&e(t)}),n,!1)}},{key:"GetAllTaskTypes",value:function(t,e,n){this.HttpPost("api/Parameter/GetAllTaskTypes",t,void 0,e,n)}},{key:"CreateTaskTypes",value:function(t,e,n,i){this.HttpPost("api/Parameter/CreateTaskTypes",e,t,n,i)}},{key:"UpdateTaskTypes",value:function(t,e,n,i){this.HttpPost("api/Parameter/UpdateTaskTypes",e,t,n,i)}},{key:"GetTaskSources",value:function(t,e,n){var i=this;this.HttpPost("api/Parameter/GetTaskSources",t,void 0,(function(t){i._store.commit("taskParameters/SetTaskSources",t.data),e&&e(t)}),n,!1)}},{key:"GetAllTaskSources",value:function(t,e,n){this.HttpPost("api/Parameter/GetAllTaskSources",t,void 0,e,n)}},{key:"CreateTaskSources",value:function(t,e,n,i){this.HttpPost("api/Parameter/CreateTaskSources",e,t,n,i)}},{key:"UpdateTaskSources",value:function(t,e,n,i){this.HttpPost("api/Parameter/UpdateTaskSources",e,t,n,i)}}]),n}(s["a"]),u=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(t,a){return Object(i["a"])(this,n),e.call(this,t,a)}return Object(a["a"])(n,[{key:"GetOptions",value:function(t,e,n){this.GetAllTaskTypes(t,e,n)}},{key:"CreateOptions",value:function(t,e,n,i){this.CreateTaskTypes(t,e,n,i)}},{key:"UpdateOptions",value:function(t,e,n,i){this.UpdateTaskTypes(t,e,n,i)}}]),n}(c),l=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(t,a){return Object(i["a"])(this,n),e.call(this,t,a)}return Object(a["a"])(n,[{key:"GetOptions",value:function(t,e,n){this.GetAllTaskSources(t,e,n)}},{key:"CreateOptions",value:function(t,e,n,i){this.CreateTaskSources(t,e,n,i)}},{key:"UpdateOptions",value:function(t,e,n,i){this.UpdateTaskSources(t,e,n,i)}}]),n}(c)},e520:function(t,e,n){},e7e6:function(t,e,n){"use strict";n("c0d2")},f102:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Register",class:{darkMode:t.darkMode}},[n("SimpleTransition",{attrs:{mode:"out-in"}},[t.isRegistOk?n("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],key:2,attrs:{loading:t.isLoading,elevation:"15",width:"500",height:"100",outlined:"",shaped:"",color:"primary"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-card-title",{staticClass:"regist-success text-h4 margin-center font-weight-bold"},[n("v-icon",{staticClass:"text-h4",attrs:{left:""}},[t._v("mdi-check-circle-outline")]),t._v("註冊成功")],1)],1)],1):n("v-card",{key:1,attrs:{loading:t.isLoading,disabled:t.isLoading,elevation:"10",width:t.width,outlined:"",shaped:""},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.HandleRegist(e)}}},[n("v-card-title",{staticClass:"title flex-center text-h4 mb-4 pt-8"},[n("v-icon",{staticClass:"title text-h4",attrs:{left:""}},[t._v("mdi-account-plus")]),t._v("註冊")],1),t.darkMode?t._e():n("v-divider",{staticClass:"mb-4"}),n("v-card-text",{staticClass:"px-10"},[n("div",{staticClass:"content"},[n("v-text-field",{attrs:{"error-messages":t.errorMessages.Email,"error-count":t.errorMessages.Email.length,label:"Email","prepend-icon":"mdi-email",outlined:"",dense:"",counter:"",maxlength:"256"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{"error-messages":t.errorMessages.Password,"error-count":t.errorMessages.Password.length,label:"Password",type:"password","prepend-icon":"mdi-key","append-icon":"mdi-eye",outlined:"",dense:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-text-field",{attrs:{label:"Comfirm Password",type:"password","prepend-icon":"mdi-key","append-icon":"mdi-eye",outlined:"",dense:""},model:{value:t.comfirmPassword,callback:function(e){t.comfirmPassword=e},expression:"comfirmPassword"}}),t._l(t.errorMessages.Fail,(function(e,i){return n("p",{key:i,staticClass:"error--text"},[t._v(" "+t._s(e)+" ")])}))],2)]),t.darkMode?t._e():n("v-divider"),n("v-card-actions",{staticClass:"py-6 flex-center card-action",class:{disabled:!t.isPasswordComfirmed}},[n("v-btn",{staticClass:"pa-6 px-8 text-center",attrs:{loading:t.isLoading,elevation:"2",large:"",rounded:"",color:t.darkMode?"accent":"primary",block:t.darkMode,disabled:!t.isPasswordComfirmed},on:{click:t.HandleRegist}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" Submit ")],1)],1)],1)],1)],1)},a=[],o=(n("a9e3"),n("a6f4")),r=n("6ebf"),s=n("04b0"),c=n("880d"),u=n("0fb2"),l=Object(o["defineComponent"])({name:"Register",props:{width:{type:Number,default:500},darkMode:{type:Boolean,default:!1}},components:{SimpleTransition:r["a"]},setup:function(t,e){var n=e.emit,i=e.root,a=i.$store,r=i.$router,l=a,d=r,f=new u["a"](l,d),m=Object(s["useToast"])(),p=Object(o["ref"])(""),v=Object(o["ref"])(""),h=Object(o["ref"])(""),b=Object(o["ref"])(!1),g=Object(o["computed"])((function(){return v.value==h.value&&v.value.length>0})),k=Object(o["ref"])(!1),y=function(){return{Email:[],Password:[],Fail:[]}},S=Object(o["reactive"])(y());function O(){S.Email=[],S.Password=[],S.Fail=[]}var w=Object(o["computed"])((function(){return{email:p.value,password:v.value}}));function C(){g.value&&f.Regist(w.value,k,(function(){O(),b.value=!0,Object(c["b"])("Registration success! Please connect admin to activate your account.",m,{timeout:15e3}),n("registSuccess")}),(function(t){console.log(t),b.value=!1,400==t.response.status&&(O(),S.Email=t.response.data["Email"]||[],S.Password=t.response.data["Password"]||[],S.Fail=t.response.data["Fail"]||[]),console.log(t.response)}))}var I=Object(o["computed"])((function(){return l.state.authentication.isAuthenticated}));return{email:p,password:v,comfirmPassword:h,errorMessages:S,HandleRegist:C,isRegistOk:b,isPasswordComfirmed:g,isAuthenticated:I,isLoading:k}}}),d=l,f=(n("fec6"),n("2877")),m=Object(f["a"])(d,i,a,!1,null,"a614c068",null);e["a"]=m.exports},fec6:function(t,e,n){"use strict";n("a488")},feca:function(t,e,n){"use strict";n("afe5")}});
//# sourceMappingURL=app.edd198db.js.map