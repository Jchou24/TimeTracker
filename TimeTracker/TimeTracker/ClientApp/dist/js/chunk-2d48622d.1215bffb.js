(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d48622d"],{"138d":function(e,t,a){},"13d5":function(e,t,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),s=a("ae40"),o=a("2d00"),c=a("605d"),u=r("reduce"),l=s("reduce",{1:0}),d=!c&&o>79&&o<83;n({target:"Array",proto:!0,forced:!u||!l||d},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"18a7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition-group",{attrs:{tag:e.tag,appear:""},on:{"before-enter":e.beforeEnter,enter:e.enter}},[e._t("default")],2)},i=[],r=(a("a9e3"),a("d3b7"),{name:"RippleTransitionFlip",props:{isFirstActive:{type:Boolean,default:!1},tag:{type:String},setNumber:{type:Number,default:20}},methods:{beforeEnter:function(e){e.style.opacity=0,this.isFirstActive&&(e.style.height=0)},enter:function(e,t){var n=this;a.e("chunk-2d0c9224").then(a.t.bind(null,"589d",7)).then((function(a){var i=e.dataset.index%n.setNumber,r=150*i+300;setTimeout((function(){e.className+=" rolldown",e.style.height="initial",a.default(e,{opacity:1},{complete:t})}),r)}))}}}),s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,"454230fd",null);t["a"]=c.exports},"1a78":function(e,t,a){"use strict";a("faa8")},"1e7a":function(e,t,a){},"2c37":function(e,t,a){"use strict";a("a411")},"4ec9":function(e,t,a){"use strict";var n=a("6d61"),i=a("6566");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"51ec":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MetaDisplayer"},[a("TargetModalSelector",{attrs:{singleSelectTarget:e.singleSelectTarget,isOpenModal:e.isOpenTargetSelector,selectedUsers:e.targetUsers},on:{"update:isOpenModal":function(t){e.isOpenTargetSelector=t},"update:is-open-modal":function(t){e.isOpenTargetSelector=t},"update:selectedUsers":function(t){e.targetUsers=t},"update:selected-users":function(t){e.targetUsers=t}}}),a("div",[a("v-row",[a("v-btn",{staticClass:"btn-select btn-select-target font-weight-black",attrs:{color:"accent",tile:"",outlined:"",fab:"",depressed:"",width:e.width},on:{click:function(t){e.isOpenTargetSelector=!0}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-account-edit")]),e._v(" "+e._s(e.selectedUserInfo)+" ")],1)],1),a("v-row",[a("DateMenuSelector",{attrs:{selectedDates:e.targetDates},on:{"update:selectedDates":function(t){e.targetDates=t},"update:selected-dates":function(t){e.targetDates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.activator;return[a("v-btn",e._g(e._b({staticClass:"btn-select btn-select-date mt-1",attrs:{color:"accent",tile:"",outlined:"",fab:"",depressed:"",width:e.width,height:e.isShowPeriodName?110:void 0}},"v-btn",n.attrs,!1),n.on),[a("v-container",[e.isShowPeriodName?a("v-row",{attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"mt-2 font-weight-black"},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-calendar-multiple")]),e._v(e._s(e.targetDates.periodName)+" ")],1)],1):e._e(),e.isShowPeriodName?a("v-row",{attrs:{"no-gutters":"",justify:"center"}},[a("v-divider",{staticClass:"mt-3 mb-2"})],1):e._e(),a("v-row",{attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{staticClass:"text-button font-weight-bold"},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-calendar")]),e._v(" "),a("span",[e._v(e._s(e.targetDates.startDate))]),a("v-icon",{staticClass:"mx-2"},[e._v("mdi-arrow-left-right-bold")]),a("v-icon",{staticClass:"mr-1"},[e._v("mdi-calendar")]),e._v(" "),a("span",[e._v(e._s(e.targetDates.endDate))])],1)],1)],1)],1)]}}])})],1)],1)],1)},i=[],r=(a("b0c0"),a("a9e3"),a("a6f4")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TargetModalSelector"},[a("v-dialog",{attrs:{width:e.width},model:{value:e.isOpenModalRef,callback:function(t){e.isOpenModalRef=t},expression:"isOpenModalRef"}},[a("v-card",{attrs:{elevation:"10",width:e.width,loading:e.isLoading,outlined:"",shaped:""}},[a("v-card-title",{staticClass:"px-10 pb-2"},[e._v(" #Total: "+e._s(e.users.length)+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"theme-table px-6",attrs:{color:"primary",headers:e.headers,items:e.users,search:e.search,"items-per-page":10,loading:e.isLoading,"single-select":e.singleSelectTarget,"show-select":"","item-key":"guid","fixed-header":"",filterable:"","multi-sort":"","no-data-text":"No Accounts"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)},o=[],c=(a("7db0"),a("45fc"),a("ac1f"),a("5319"),a("5530")),u=a("c512"),l=a("aad1"),d=Object(r["defineComponent"])({name:"TargetModalSelector",props:{isOpenModal:{type:Boolean},selectedUsers:{type:Array,default:function(){return[]}},width:{type:Number,default:500},singleSelectTarget:{type:Boolean,default:!0}},setup:function(e,t){var a=t.emit,n=t.root,i=n.$store,s=n.$router,o=n.$route,d=i,f=s,v=new u["a"](d,f),p="st",m=Object(r["ref"])(""),b=[{text:"Name",value:"name",align:"center"},{text:"Email",value:"email",align:"center"}],h=Object(r["ref"])([]),g=Object(r["computed"])({get:function(){return e.isOpenModal},set:function(e){return a("update:isOpenModal",e)}}),O=function(){return a("update:selectedUsers",h.value)};Object(r["watch"])((function(){return e.selectedUsers}),(function(){return h.value=e.selectedUsers})),Object(r["watch"])(h,(function(e,t){0!=e.length?e.length>0&&t.length>0&&!Object(l["c"])(Object(l["b"])(e),Object(l["b"])(t))&&O():h.value=JSON.parse(JSON.stringify(t))}));var y=Object(r["ref"])([]);function k(e){var t=o.query[p];return t&&e.some((function(e){return e.guid==t}))?e.find((function(e){return e.guid==t})):e.find((function(e){return e.guid==d.state.authentication.claims.guid}))}var D=Object(r["ref"])(!1);function S(){v.GetAccounts(D,(function(t){y.value=t.data,h.value.length>0||(e.singleSelectTarget?h.value=[k(y.value)]:h.value=y.value,O())}))}return S(),Object(r["watch"])(g,(function(){1==g.value&&S()})),Object(r["watch"])(h,(function(){if(e.singleSelectTarget){var t=Object(c["a"])({},o.query);h.value.length>0&&h.value[0].guid&&(t[p]=h.value[0].guid,s.replace({query:t}).catch((function(){})))}})),{isLoading:D,isOpenModalRef:g,search:m,selected:h,headers:b,users:y}}}),f=d,v=a("2877"),p=Object(v["a"])(f,s,o,!1,null,null,null),m=p.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"DateMenuSelector"},[a("DatePeriodSelector",{attrs:{isOpenModal:e.isOpenDateRangeSelector,width:e.width},on:{"update:isOpenModal":function(t){e.isOpenDateRangeSelector=t},"update:is-open-modal":function(t){e.isOpenDateRangeSelector=t},updateDateRange:e.HandleUpdateDateRange}}),a("v-menu",{staticClass:"pl-4",attrs:{"nudge-right":20,rounded:"xl","offset-x":"","disable-keys":"",transition:"slide-x-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){return[e._t("activator",null,{activator:t})]}}],null,!0),model:{value:e.isOpenMenu,callback:function(t){e.isOpenMenu=t},expression:"isOpenMenu"}},[a("v-list",[a("v-list-item",[a("v-list-item-title",[a("v-btn",{staticClass:"mt-3 mb-4 text-capitalize",attrs:{color:"",rounded:"",block:""},on:{click:function(t){e.isOpenDateRangeSelector=!0,e.isOpenMenu=!1}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search Period ")],1)],1)],1),a("v-list-item",[a("v-list-item-title",[a("DateRangeSelector",{staticClass:"mr-1 mt-3 mb-n3",attrs:{defaultStartDate:e.defaultStartDate,defaultEndDate:e.defaultEndDate},on:{updateDateRange:e.HandleUpdateDateRange}})],1)],1)],1)],1)],1)},h=[],g=(a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"DatePeriodSelector"},[a("v-dialog",{attrs:{width:e.width},model:{value:e.isOpenModalRef,callback:function(t){e.isOpenModalRef=t},expression:"isOpenModalRef"}},[a("v-card",{attrs:{elevation:"10",width:e.width,loading:e.isLoading,outlined:"",shaped:""}},[a("v-card-title",{staticClass:"px-10 pb-2"},[e._v(" #Total: "+e._s(e.periods.length)+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"theme-table px-6",attrs:{color:"primary",headers:e.headers,items:e.periods,search:e.search,"items-per-page":10,loading:e.isLoading,"single-select":!0,"show-select":"","item-key":"guid","fixed-header":"",filterable:"","multi-sort":"","no-data-text":"No Periods found"},on:{"item-selected":e.HandleItemSelected},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)}),O=[],y=(a("4160"),a("159b"),a("97b3")),k=a("5858"),D=Object(r["defineComponent"])({name:"DatePeriodSelector",props:{isOpenModal:{type:Boolean},width:{type:Number}},setup:function(e,t){var a=t.emit,n=t.root,i=n.$store,s=n.$router,o=(n.$route,i),c=s,u=new y["a"](o,c),l=Object(r["computed"])({get:function(){return e.isOpenModal},set:function(e){return a("update:isOpenModal",e)}}),d=Object(r["ref"])([]),f=Object(r["ref"])(!1),v=Object(r["ref"])([]);function p(e){e.forEach((function(e){e.startDate=Object(k["a"])(e.startDate),e.endDate=Object(k["a"])(e.endDate)}))}var m=Object(r["computed"])({get:function(){return v.value},set:function(e){p(e),v.value=e}});function b(){u.GetPeriods(f,(function(e){m.value=e.data}))}Object(r["watch"])(l,(function(){1==l.value&&b()}));var h=d.value[0];function g(e){0==e.value&&(h=e.item)}Object(r["watch"])(d,(function(){0==d.value.length&&d.value.push(h);var e=d.value[0];if(e){var t={periodName:e.name,isUsedPeriod:!0,startDate:e.startDate,endDate:e.endDate};a("updateDateRange",t)}}));var O=Object(r["ref"])(""),D=[{text:"Name",value:"name",align:"center"},{text:"Start Date",value:"startDate",align:"center"},{text:"End Date",value:"endDate",align:"center"}];return{isOpenModalRef:l,isLoading:f,periods:m,selected:d,search:O,headers:D,HandleItemSelected:g}}}),S=D,w=Object(v["a"])(S,g,O,!1,null,null,null),j=w.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"DateRangeSelector"},[a("DatePicker",{attrs:{label:"Start Date",prependIcon:"mdi-arrow-up-bold-outline",date:e.startDate},on:{"update:date":function(t){e.startDate=t}}}),a("DatePicker",{attrs:{label:"End Date",prependIcon:"mdi-arrow-down-bold-outline",date:e.endDate},on:{"update:date":function(t){e.endDate=t}}})],1)},T=[],C=a("fe6e"),x=Object(r["defineComponent"])({name:"DateRangeSelector",props:{defaultStartDate:{type:String},defaultEndDate:{type:String}},components:{DatePicker:C["a"]},setup:function(e,t){var a=t.emit;t.root;function n(e){return e&&!0===Object(k["e"])(e)?e:Object(k["c"])()}var i=Object(r["ref"])(n(e.defaultStartDate)),s=Object(r["ref"])(n(e.defaultEndDate)),o=Object(r["computed"])((function(){return{periodName:"",isUsedPeriod:!1,startDate:i.value,endDate:s.value}}));return Object(r["watch"])(o,(function(){a("updateDateRange",o.value)})),{startDate:i,endDate:s}}}),R=x,M=Object(v["a"])(R,_,T,!1,null,null,null),E=M.exports,U=Object(r["defineComponent"])({name:"DateMenuSelector",props:{selectedDates:{type:Object},width:{type:Number,default:500}},components:{DatePeriodSelector:j,DateRangeSelector:E},setup:function(e,t){var a=t.emit,n=t.root,i=n.$store,s=n.$router,o=n.$route,l=i,d=s,f=(new u["a"](l,d),{startDate:"std",endDate:"ed"}),v=Object(r["ref"])(!1),p=Object(r["ref"])(!1),m=Object(r["ref"])(!1);function b(e){var t={};Object(k["e"])(e.startDate)&&(t[f.startDate]=e.startDate),Object(k["e"])(e.endDate)&&(t[f.endDate]=e.endDate),Object.keys(t).length>0&&(t=Object(c["a"])(Object(c["a"])({},o.query),t),s.replace({query:t}).catch((function(){})))}function h(e){a("update:selectedDates",e),b(e)}var g=Object(r["ref"])(""),O=Object(r["ref"])("");function y(){var e=function(e){return o.query[e]&&Object(k["e"])(o.query[e])};g.value=e(f.startDate)?o.query[f.startDate]:Object(k["c"])(),O.value=e(f.endDate)?o.query[f.endDate]:Object(k["c"])(),h({periodName:"",isUsedPeriod:!1,startDate:g.value,endDate:O.value})}return y(),{isLoading:v,isOpenMenu:p,isOpenDateRangeSelector:m,defaultStartDate:g,defaultEndDate:O,HandleUpdateDateRange:h}}}),N=U,L=Object(v["a"])(N,b,h,!1,null,null,null),P=L.exports,A=Object(r["defineComponent"])({name:"MetaDisplayer",props:{selectedUsers:{type:Array,default:function(){return[]}},selectedDates:{type:Object},width:{type:Number,default:300},singleSelectTarget:{type:Boolean,default:!0}},components:{TargetModalSelector:m,DateMenuSelector:P},setup:function(e,t){var a=t.emit,n=Object(r["computed"])({get:function(){return e.selectedUsers},set:function(e){return a("update:selectedUsers",e)}}),i=Object(r["computed"])({get:function(){return e.selectedDates},set:function(e){return a("update:selectedDates",e)}}),s=Object(r["ref"])(!1),o=Object(r["computed"])((function(){var e,t,a;return(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.isUsedPeriod)&&(null===i||void 0===i||null===(t=i.value)||void 0===t||null===(a=t.periodName)||void 0===a?void 0:a.length)>0})),c=function(){var e=n.value[0];return e?e.name&&e.name.length>0?e.name:e.email:"No user selected."},u=Object(r["computed"])((function(){return e.singleSelectTarget||1==n.value.length?c():"Select ".concat(n.value.length," users.")}));return{isOpenTargetSelector:s,isShowPeriodName:o,targetUsers:n,targetDates:i,selectedUserInfo:u}}}),H=A,$=(a("cd56"),Object(v["a"])(H,n,i,!1,null,null,null));t["a"]=$.exports},"7b28":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));a("7db0");var n=function(e,t){var a;return null===(a=e.find((function(e){return e.guid===t.guid})))||void 0===a?void 0:a.id},i=function(e,t){var a;return null===(a=e.find((function(e){return e.guid===t})))||void 0===a?void 0:a.id},r=function(e,t){return e.find((function(e){return e.id===t}))},s=function(e,t){var a;return null===(a=e.find((function(e){return e.id===t})))||void 0===a?void 0:a.guid}},"8a26":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"two-column",class:{"active-sidebar":e.isShowSidebar}},[a("SimpleTransition",{attrs:{enterAnimation:"animate__fadeInLeft",leaveAnimation:"animate__fadeOutLeft"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSidebar,expression:"isShowSidebar"}],staticClass:"fixed-sidebar"},[a("div",{staticClass:"fixed-sidebar-background"}),a("div",{staticClass:"fixed-sidebar-content"},[e._t("left")],2)])]),a("div",{staticClass:"content"},[e._t("right")],2)],1)},i=[],r=a("a6f4"),s=a("6ebf"),o=a("fffe"),c=a("1008"),u=Object(r["defineComponent"])({name:"TwoColumn",props:{mdiIcon:{type:String,default:""},left:{type:Boolean,default:!1}},components:{SimpleTransition:s["a"]},setup:function(e,t){var a=t.root,n=a.$store,i=(a.$router,n),s=Object(o["a"])({throttleMs:100}),u=s.width,l=(s.height,Object(r["computed"])((function(){return Object(c["a"])(u.value)}))),d=Object(r["computed"])((function(){return i.state.twoColumn.isShowSidebar})),f=function(){return i.commit("twoColumn/ActiveTwoColumn")},v=function(){return i.commit("twoColumn/DisActiveTwoColumn")},p=function(){return i.commit("twoColumn/ActiveSidebar")},m=function(){return i.commit("twoColumn/DisActiveSidebar")};function b(){switch(l.value){case c["b"].sm:case c["b"].xs:m();break;default:p();break}}return Object(r["watch"])(l,(function(){return b()})),Object(r["onBeforeMount"])((function(){f(),b()})),Object(r["onUnmounted"])((function(){v()})),{isShowSidebar:d}}}),l=u,d=(a("ee76"),a("2877")),f=Object(d["a"])(l,n,i,!1,null,"bf13ce26",null);t["a"]=f.exports},a411:function(e,t,a){},a434:function(e,t,a){"use strict";var n=a("23e7"),i=a("23cb"),r=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),u=a("8418"),l=a("1dde"),d=a("ae40"),f=l("splice"),v=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,b=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!v},{splice:function(e,t){var a,n,l,d,f,v,g=o(this),O=s(g.length),y=i(e,O),k=arguments.length;if(0===k?a=n=0:1===k?(a=0,n=O-y):(a=k-2,n=m(p(r(t),0),O-y)),O+a-n>b)throw TypeError(h);for(l=c(g,n),d=0;d<n;d++)f=y+d,f in g&&u(l,d,g[f]);if(l.length=n,a<n){for(d=y;d<O-n;d++)f=d+n,v=d+a,f in g?g[v]=g[f]:delete g[v];for(d=O;d>O-n+a;d--)delete g[d-1]}else if(a>n)for(d=O-n;d>y;d--)f=d+n-1,v=d+a-1,f in g?g[v]=g[f]:delete g[v];for(d=0;d<a;d++)g[d+y]=arguments[d+2];return g.length=O-n+a,l}})},c512:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return p}));a("4de4"),a("7db0"),a("4160"),a("caad"),a("d81d"),a("a434"),a("7ed3"),a("2532"),a("159b");var n=a("d4ec"),i=a("bee2"),r=a("262e"),s=a("2caf"),o=a("240f"),c=a("1c32"),u=a("5858"),l=a("7b28"),d=a("98b8"),f=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(e,i){return Object(n["a"])(this,a),t.call(this,e,i)}return Object(i["a"])(a,[{key:"GetAccounts",value:function(e,t,a){this.HttpPost("api/TaskEditor/GetAccounts",e,void 0,t,a)}},{key:"GetDaysData",value:function(e,t,a,n){this.HttpPost("api/TaskEditor/GetDaysData",t,e,a,n)}},{key:"CreateTask",value:function(e,t,a,n){this.HttpPost("api/TaskEditor/CreateTask",t,e,a,n)}}]),a}(o["a"]),v=function(){function e(t){Object(n["a"])(this,e),this._store=t,this._wsHandler=t.state.webSocket.wsHandler}return Object(i["a"])(e,[{key:"Subscribe",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("SubscribeTaskEditor",e),this._store.commit("webSocket/SetTaskEditorGroup",e))}},{key:"Unsubscribe",value:function(){var e;this.ValidateState()&&this._store.state.webSocket.taskEditorQueryTasks&&(null===(e=this._wsHandler)||void 0===e||e.connection.invoke("UnsubscribeTaskEditor",this._store.state.webSocket.taskEditorQueryTasks))}},{key:"UpdateIsLeave",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("UpdateIsLeave",e))}},{key:"CreateTask",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("CreateTask",e))}},{key:"DeleteTasks",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("DeleteTasks",e))}},{key:"UpdateTaskRowOrder",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("UpdateTaskRowOrder",e))}},{key:"UpdateTaskCol",value:function(e){var t;this.ValidateState()&&(null===(t=this._wsHandler)||void 0===t||t.connection.invoke("UpdateTaskCol",e))}},{key:"TryReconnect",value:function(){var e,t=this,a=null===(e=this._wsHandler)||void 0===e?void 0:e.TryReconnect((function(){t._store.state.notification.NotificateWSReconnected()}),(function(){t._store.state.notification.NotificateWSClose()}));a&&this._store.state.notification.NotificateWSReconnecting()}},{key:"ValidateState",value:function(){if(!this._wsHandler)return this._store.state.notification.NotificateWSClose(),!1;var e=this._wsHandler.connection;if(e.state===d["b"].Connected)return!0;if(!this._store.state.authentication.isAuthenticated)return!1;switch(e.state){case d["b"].Disconnected:return this._store.state.notification.NotificateWSClose(),!1;case d["b"].Connecting:return this._store.state.notification.NotificateWSReconnecting(),!1;case d["b"].Disconnecting:return this._store.state.notification.NotificateWSReconnecting(),!1;case d["b"].Reconnecting:return this._store.state.notification.NotificateWSReconnecting(),!1;default:return this._store.state.notification.NotificateWSClose(),!1}}}]),e}(),p=function(){function e(t){var a;Object(n["a"])(this,e),this._store=t,this.connection=null===(a=t.state.webSocket.wsHandler)||void 0===a?void 0:a.connection}return Object(i["a"])(e,[{key:"InitListener",value:function(e,t){this.ListenIsLeave(e,t),this.ListenAddRows(e,t),this.ListenRemoveRows(e,t),this.ListenMoveRows(e,t),this.ListenUpdateTaskCol(e,t)}},{key:"ListenIsLeave",value:function(e,t){var a;null===(a=this.connection)||void 0===a||a.on(c["a"][c["a"].TaskEditorUpdateIsLeave],(function(a){var n=a,i=Object(u["a"])(n.date),r=e.value.find((function(e){return e.date==i}));r&&(r.isLeave=n.isLeave,t())}))}},{key:"ListenAddRows",value:function(e,t){var a,n=this;null===(a=this.connection)||void 0===a||a.on(c["a"][c["a"].TaskEditorCreateTask],(function(a){var i=a,r=Object(u["a"])(i.tasks[0].date),s=i.tasks.map((function(e){return{guid:e.guid,displayOrder:e.displayOrder,date:Object(u["a"])(e.date),consumeTime:e.consumeTime,taskType:Object(l["d"])(n._store.state.taskParameters.taskTypes,e.taskType),taskSource:Object(l["d"])(n._store.state.taskParameters.taskSources,e.taskSource),taskName:e.taskName,taskContent:e.taskContent}})),o=e.value.find((function(e){return e.date==r}));o&&(s.forEach((function(e){o.formData.splice(e.displayOrder,0,e)})),t())}))}},{key:"ListenRemoveRows",value:function(e,t){var a;null===(a=this.connection)||void 0===a||a.on(c["a"][c["a"].TaskEditorDeleteTasks],(function(a){var n=a,i=Object(u["a"])(n.date),r=e.value.find((function(e){return e.date==i}));r&&(r.formData=r.formData.filter((function(e){return!n.taskGuids.includes(e.guid)})),t())}))}},{key:"ListenMoveRows",value:function(e,t){var a;null===(a=this.connection)||void 0===a||a.on(c["a"][c["a"].TaskEditorUpdateTaskRowOrder],(function(a){var n=a,i=Object(u["a"])(n[0].date),r=e.value.find((function(e){return e.date==i}));r&&(n.forEach((function(e){var t=r.formData.find((function(t){return t.guid==e.guid}));t&&(t.displayOrder=e.displayOrder)})),r.formData.sort((function(e,t){return e.displayOrder<t.displayOrder?-1:e.displayOrder>t.displayOrder?1:0})),t())}))}},{key:"ListenUpdateTaskCol",value:function(e,t){var a,n=this;null===(a=this.connection)||void 0===a||a.on(c["a"][c["a"].TaskEditorUpdateTaskCol],(function(a){var i=a,r=Object(u["a"])(i[0].date),s=e.value.find((function(e){return e.date==r}));s&&(i.forEach((function(e){var t=s.formData.find((function(t){return t.guid==e.guid}));if(t){var a=e.value;switch(e.relatedKey){case"taskType":a=Object(l["c"])(n._store.state.taskParameters.taskTypes,e.value);break;case"taskSource":a=Object(l["c"])(n._store.state.taskParameters.taskSources,e.value);break;default:break}Reflect.set(t,e.relatedKey,a)}})),t())}))}}]),e}()},cd56:function(e,t,a){"use strict";a("138d")},d58f:function(e,t,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),s=a("50c4"),o=function(e){return function(t,a,o,c){n(a);var u=i(t),l=r(u),d=s(u.length),f=e?d-1:0,v=e?-1:1;if(o<2)while(1){if(f in l){c=l[f],f+=v;break}if(f+=v,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=v)f in l&&(c=a(c,l[f],f,u));return c}};e.exports={left:o(!1),right:o(!0)}},ee76:function(e,t,a){"use strict";a("1e7a")},faa8:function(e,t,a){},ff18:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TaskPeriodSimpleSummary"},[a("SimpleTransition",{attrs:{mode:"out-in"}},[e.isShowContent&&e.summary.length>0?a("v-simple-table",{staticClass:"summary",attrs:{dense:"","fixed-header":"",height:"100%"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center date"},[e._v(" Date ")]),a("th",{staticClass:"text-center"},[e._v(" Time ")]),a("th",{staticClass:"text-center"},[e._v(" Over Time ")])])]),a("RippleTransitionFlip",{attrs:{tag:"tbody",setNumber:7}},[e._l(e.summary,(function(t,n){return a("tr",{key:n,class:e.GetClass(t),attrs:{"data-index":n}},[a("td",{staticClass:"text-center"},[e._v(e._s(t.date))]),a("td",{staticClass:"text-center"},[e._v(e._s(t.consumeTime))]),a("td",{staticClass:"text-center"},[e._v(e._s(t.overtime))])])})),a("tr",{key:e.summary.length,staticClass:"total",attrs:{"data-index":0}},[a("td",{staticClass:"text-center"},[e._v("Total")]),a("td",{staticClass:"text-center"},[e._v(e._s(e.total.consumeTime))]),a("td",{staticClass:"text-center"},[e._v(e._s(e.total.overtime))])])],2)]},proxy:!0}],null,!1,3916329227)}):e._e()],1)],1)},i=[],r=a("a6f4"),s=a("6ebf"),o=a("18a7"),c=(a("4160"),a("a630"),a("d81d"),a("13d5"),a("4ec9"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("5858")),u=a("aad1"),l=function(e){return Object(r["computed"])((function(){return{date:"",consumeTime:e.value.map((function(e){return e.consumeTime})).reduce((function(e,t){return e+t}),0),overtime:e.value.map((function(e){return e.overtime})).reduce((function(e,t){return e+t}),0)}}))},d=function(e){return{inactive:e&&!e.isLeave&&0==e.consumeTime,overTime:e&&!e.isLeave&&e.consumeTime>0&&e.overtime>0,leave:e&&e.isLeave}},f=function(e){return Object(r["computed"])((function(){return e.state.taskParameters.dayWorkLimitTime||7.5}))};function v(e,t,a,n,i){var s=Object(r["ref"])([]),o=l(s),c=Object(r["ref"])(!1),f=Object(u["b"])(a.value),v=t.value.startDate,p=t.value.endDate;function m(){Object(u["c"])(f,Object(u["b"])(a.value))&&v===t.value.startDate&&p===t.value.endDate||(c.value=!1,v=t.value.startDate,p=t.value.endDate,f=Object(u["b"])(a.value)),s.value=n(),setTimeout((function(){return c.value=!0}),150)}return m(),Object(r["watch"])(i,(function(){m()})),{summary:s,total:o,isShowContent:c,InitSummary:m,GetClass:d}}function p(e,t,a,n){return v(e,a,n,(function(){var a=f(e),n=t.value.map((function(e){var t={date:e.date,consumeTime:e.isLeave?a.value:0,overtime:0,isLeave:e.isLeave};return e.isLeave||(e.formData.forEach((function(e){return t.consumeTime+=e.consumeTime})),t.overtime=t.consumeTime-a.value,t.overtime=t.overtime<0?0:t.overtime),t}));return n}),(function(){return t.value}))}function m(e,t,a,n){return v(e,a,n,(function(){var e=new Map(Object(c["b"])(a.value.startDate,a.value.endDate).map((function(e){return[e,{date:e,consumeTime:0,overtime:0,isLeave:!1}]})));return t.value.forEach((function(t){return e.set(t.date,t)})),Array.from(e.values())}),(function(){return[t.value,a.value]}))}var b=Object(r["defineComponent"])({name:"TaskPeriodSimpleSummary",props:{selectedUsers:{type:Array,default:function(){return[]}},daysData:{type:Array},isReactiveMode:{type:Boolean,default:!0},sourceSummary:{type:Array},selectedDates:{type:Object}},components:{SimpleTransition:s["a"],RippleTransitionFlip:o["a"]},setup:function(e,t){t.emit;var a=t.root,n=a.$store,i=n,s=Object(r["computed"])((function(){return(null===e||void 0===e?void 0:e.daysData)||[]})),o=Object(r["computed"])((function(){return(null===e||void 0===e?void 0:e.sourceSummary)||[]})),c=Object(r["computed"])((function(){return(null===e||void 0===e?void 0:e.selectedDates)||{}})),u=Object(r["computed"])((function(){return e.selectedUsers||[]}));return e.isReactiveMode?p(i,s,c,u):m(i,o,c,u)}}),h=b,g=(a("2c37"),a("1a78"),a("2877")),O=Object(g["a"])(h,n,i,!1,null,"48906ef8",null);t["a"]=O.exports}}]);
//# sourceMappingURL=chunk-2d48622d.1215bffb.js.map